<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>AI Cover Letter Filler — Options</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; padding: 16px; }
      .row { margin-bottom: 12px; }
      label { display: block; font-weight: 600; margin-bottom: 4px; }
      input, select { width: 320px; padding: 8px; }
      .hint { font-size: 12px; color: #666; }
      .error { color: #b00020; font-size: 12px; }
      .success { color: #0a7f27; font-size: 12px; }
      button { padding: 8px 12px; }
    </style>
  </head>
  <body>
    <h1>Options</h1>
    <form id="options-form">
      <div class="row">
        <label for="apiKey">API Key</label>
        <input id="apiKey" type="password" autocomplete="off" />
        <div id="apiKeyError" class="error" style="display:none;"></div>
        <div class="hint">Stored locally. Not logged.</div>
      </div>
      <div class="row">
        <label for="model">Generation Model</label>
        <select id="model">
          <option value="gpt-4o-mini">gpt-4o-mini (default)</option>
          <option value="gpt-4o">gpt-4o</option>
        </select>
      </div>
      <div class="row">
        <label for="budgetCap">Budget Cap (USD per job)</label>
        <input id="budgetCap" type="number" min="0" step="0.01" value="0.10" />
        <div id="budgetCapError" class="error" style="display:none;"></div>
      </div>
      <div class="row">
        <label for="strictness">Evidence Strictness</label>
        <select id="strictness">
          <option value="balanced">balanced</option>
          <option value="strict">strict</option>
          <option value="lenient">lenient</option>
        </select>
      </div>
      <div class="row">
        <label><input id="telemetryOptIn" type="checkbox" /> Enable telemetry (local only)</label>
        <div class="hint">Stores local events for debugging; no network calls.</div>
      </div>
      <div class="row">
        <label for="retentionDays">Retention (days)</label>
        <select id="retentionDays">
          <option value="30">30</option>
          <option value="90" selected>90</option>
        </select>
        <div class="hint">Old local data is pruned beyond this window.</div>
      </div>
      <div class="row">
        <label><input id="offlineMode" type="checkbox" /> Offline / cached-only mode</label>
        <div class="hint">No network calls; cached data only. Some features may be limited.</div>
      </div>
      <div class="row">
        <label for="hotkey">Panel Hotkey</label>
        <input id="hotkey" type="text" value="Ctrl+Shift+K" />
        <div class="hint">Format example: Ctrl+Shift+K</div>
      </div>
      <div class="row">
        <button type="submit">Save</button>
        <span id="status" class="success" style="display:none;margin-left:8px;">Saved</span>
      </div>
    </form>
    <div class="row">
      <div class="hint">Schema version: <span id="schemaVersion">—</span></div>
    </div>
    <div class="row">
      <button id="exportTelemetry" type="button">Export telemetry JSON</button>
      <button id="clearTelemetry" type="button" style="margin-left:8px;">Clear telemetry</button>
    </div>
    <hr />
    <div class="row">
      <button id="startOnboarding" type="button">Start onboarding</button>
    </div>
    <div id="onboardingModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.5);z-index:2147483647;">
      <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;border-radius:8px;padding:16px;width:420px;box-shadow:0 4px 16px rgba(0,0,0,0.2);">
        <h2>Welcome</h2>
        <ol>
          <li>Enter your API key</li>
          <li>Choose your default generation model</li>
          <li>Set budget cap and strictness</li>
        </ol>
        <div style="margin-top:12px;">
          <button id="completeOnboarding" type="button">Complete</button>
          <button id="cancelOnboarding" type="button" style="margin-left:8px;">Cancel</button>
        </div>
        <div id="onboardingStatus" class="success" style="display:none;margin-top:8px;">Onboarding complete</div>
      </div>
    </div>
    <div class="row">
      <button id="clearAllData" type="button" style="background:#b00020;color:#fff;">Clear all local data…</button>
      <div class="hint">Removes all settings and local caches from this extension (with confirmation).</div>
    </div>
    <hr />
    <div class="row">
      <button id="exportSettings" type="button">Export settings JSON</button>
      <input id="importSettingsFile" type="file" accept="application/json" style="margin-left:8px;" />
      <button id="importSettings" type="button" style="margin-left:8px;">Import settings</button>
      <div class="hint">API keys are not imported automatically.</div>
    </div>
    <script src="options.js"></script>
  </body>
</html>


